{"swagger":"2.0","info":{"version":"1.0.0","title":"telematics","x-architectural-layer":"system","description":"A [system](http://connections/issite/iCAF/SitePages/APIs%20-%20System%20vs%20Process%20vs%20Experience.aspx) layer API.\n\n#### Service Functionality\nThis service allows various CRUD operations with the Lexis Nexis telematics webservices. It allows creation, retrival, and\ndeletion of household, policy, and driver. Only update allowed is for driver.\n\n**Warning** the deletion of an entitiy has cascading affect. For example, a household with one policy and one driver\nunder that policy, if the driver is deleted then it automatically\ndeletes the parent policy and houeshold.\n\n#### Known Implementations\nExceed Auto Policy Telematics service\n\n#### Performance Expectation\nStandard SLA applies.\n\n#### Service Capacity Supported\nStandard Capacity applies\n\n#### Suggested Test Scenario\nTBD\n\n#### Service Availability\nStandard Service Availability applies\n\n#### Service Security\nHTTPS/SSL\n","contact":{"name":"Enterprise Web Services Team","email":"EWSDevelopers@infambureau.com","url":"http://connections/issite/ews/SitePages/Home.aspx"}},"schemes":["https","http"],"consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"basePath":"/api/telematics","paths":{"/household":{"post":{"summary":"Creates a household","description":"Creates a household with policy and driver data in the Lexis Nexis telematics system.\n","parameters":[{"name":"telematics-household-request","in":"body","description":"The input paramters in JSON format.","required":true,"schema":{"type":"object","properties":{"household":{"type":"object","properties":{"householdReferenceId":{"type":"string"},"drivers":{"type":"array","items":{"type":"object","properties":{"driver":{"type":"object","properties":{"driverReferenceId":{"type":"string"},"name":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}}},"dateOfBirth":{"type":"object","properties":{"year":{"type":"string"},"month":{"type":"string"},"day":{"type":"string"}}},"email":{"type":"string"}}}}}},"policies":{"type":"array","items":{"type":"object","properties":{"policy":{"type":"object","properties":{"policyNumber":{"type":"string"},"policyState":{"type":"string"},"driverReferences":{"type":"array","items":{"type":"object","properties":{"driverReferenceId":{"type":"string"}}}}}}}}}}}}}},{"name":"Content-Type","in":"header","description":"Determines the request format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"201":{"description":"Successful creation of household.\n"},"400":{"description":"Invalid payload.\n","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"errorMessage":{"type":"string"}}}}}},"examples":{"application/json":{"data":[{"errorMessage":"Household Reference Id (987654321) already exists."}]}}},"500":{"description":"Server error.\n"}}}},"/household/{householdId}":{"get":{"summary":"Returns a Household","description":"Returns a Household. Includes all driver and policy data.","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"200":{"description":"Successful response.","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object"}}}},"examples":{"application/json":{"data":[{"household":{"accountNumber":585569,"householdReferenceId":987654321,"drivers":{"driverWithStatus":[{"driverStatus":"Active","driver":{"driverReferenceId":"JSPRNGBH97190OPR4539","name":{"first":"BAT","last":"Man"},"dOB":{"year":1967,"month":"01","day":11},"email":"bat.man@gotham.org"}},{"driverStatus":"Active","driver":{"driverReferenceId":"2B9VGB97YC489OPR4539","name":{"first":"VINH","last":"Man"},"dOB":{"year":1966,"month":"04","day":20},"email":"vinh.man@vietnamish.com"}},{"driverStatus":"Active","driver":{"driverReferenceId":"X3G3VVJN5X497OPR4539","name":{"first":"AQUA","last":"Man"},"dOB":{"year":1994,"month":"07","day":17},"email":"aqua.man@underthesea.edu"}}]},"policies":{"policyWithStatus":[{"policyStatus":"ACTIVE","policy":{"policyNumber":"0008511418","policyState":"IN","driverReferences":{"driverReferenceId":["JSPRNGBH97190OPR4539","X3G3VVJN5X497OPR4539"]}}},{"policyStatus":"ACTIVE","policy":{"policyNumber":"0008511250","policyState":"IN","driverReferences":{"driverReferenceId":"2B9VGB97YC489OPR4539"}}}]},"vehicles":null}}]},"application/xml":"<data> <household> <accountNumber>585569</accountNumber> <householdReferenceId>987654321</householdReferenceId> <drivers> <driverWithStatus> <driverStatus>Active</driverStatus> <driver> <driverReferenceId>2B9VGB97YC489OPR4539</driverReferenceId> <name> <first>VINH</first> <last>Man</last> </name> <dOB> <year>1966</year> <month>04</month> <day>20</day> </dOB> <email>vinh.man@vietnamish.com</email> </driver> </driverWithStatus> <driverWithStatus> <driverStatus>Active</driverStatus> <driver> <driverReferenceId>JSPRNGBH97190OPR4539</driverReferenceId> <name> <first>BAT</first> <last>Man</last> </name> <dOB> <year>1967</year> <month>01</month> <day>11</day> </dOB> <email>bat.man@gotham.org</email> </driver> </driverWithStatus> <driverWithStatus> <driverStatus>Active</driverStatus> <driver> <driverReferenceId>X3G3VVJN5X497OPR4539</driverReferenceId> <name> <first>AQUA</first> <last>Man</last> </name> <dOB> <year>1994</year> <month>07</month> <day>17</day> </dOB> <email>aqua.man@underthesea.edu</email> </driver> </driverWithStatus> </drivers> <policies> <policyWithStatus> <policyStatus>ACTIVE</policyStatus> <policy> <policyNumber>0008511250</policyNumber> <policyState>IN</policyState> <driverReferences> <driverReferenceId>2B9VGB97YC489OPR4539</driverReferenceId> </driverReferences> </policy> </policyWithStatus> <policyWithStatus> <policyStatus>ACTIVE</policyStatus> <policy> <policyNumber>0008511418</policyNumber> <policyState>IN</policyState> <driverReferences> <driverReferenceId>JSPRNGBH97190OPR4539</driverReferenceId> <driverReferenceId>X3G3VVJN5X497OPR4539</driverReferenceId> </driverReferences> </policy> </policyWithStatus> </policies> <vehicles/> </household> </data>"}},"404":{"description":"Resource does not exist.\n"},"500":{"description":"Server error.\n"}}},"delete":{"summary":"Delete a Household","description":"Delete a Household.","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"}],"responses":{"200":{"description":"Successful deletion of the household."},"500":{"description":"Failure."}}}},"/household/{householdId}/policy":{"post":{"summary":"Creates a policy","description":"Creates a policy with policy and driver data for a household in the Lexis Nexis telematics system.\n","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"telematics-policy-request","in":"body","description":"The input paramters in JSON format","required":true,"schema":{"type":"object","properties":{"policy":{"type":"object","properties":{"policyNumber":{"type":"string"},"policyState":{"type":"string"},"driverReferences":{"type":"array","items":{"type":"object","properties":{"driverReferenceId":{"type":"string"}}}}}},"drivers":{"type":"array","items":{"type":"object","properties":{"driver":{"type":"object","properties":{"driverReferenceId":{"type":"string"},"name":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}}},"dateOfBirth":{"type":"object","properties":{"year":{"type":"string"},"month":{"type":"string"},"day":{"type":"string"}}},"email":{"type":"string"}}}}}}}}},{"name":"Content-Type","in":"header","description":"Determines the request format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"201":{"description":"Success creation of policy.\n"},"400":{"description":"Invalid payload.\n"},"500":{"description":"Server error.\n"}}}},"/household/{householdId}/policy/{policyId}":{"get":{"summary":"Returns a policy","description":"Returns a policy tied to the household. Includes only reference to the related drives.","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"200":{"description":"Successful response.","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object"}}}},"examples":{"application/json":{"data":[{"policyWithStatus":{"policyStatus":"ACTIVE","policy":{"policyNumber":"0008511418","policyState":"IN","driverReferences":{"driverReferenceId":["JSPRNGBH97190OPR4539","X3G3VVJN5X497OPR4539"]}}}}]},"application/xml":"<data> <policyWithStatus> <policyStatus>ACTIVE</policyStatus> <policy> <policyNumber>0008511418</policyNumber> <policyState>IN</policyState> <driverReferences> <driverReferenceId>X3G3VVJN5X497OPR4539</driverReferenceId> <driverReferenceId>JSPRNGBH97190OPR4539</driverReferenceId> </driverReferences> </policy> </policyWithStatus> </data>"}},"404":{"description":"Resource does not exist.\n"},"500":{"description":"Server error.\n"}}},"delete":{"summary":"Delete a policy","description":"Delete a policy.","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"}],"responses":{"200":{"description":"Successful deletion of the policy."},"500":{"description":"Failure."}}}},"/household/{householdId}/policy/{policyId}/driver":{"post":{"summary":"Creates a driver","description":"Creates a driver for a household and policy in the Lexis Nexis telematics system.\n","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"},{"name":"telematics-driver-request","in":"body","description":"The input paramters in JSON format.","required":true,"schema":{"type":"object","properties":{"driver":{"type":"object","properties":{"driverReferenceId":{"type":"string"},"name":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}}},"dateOfBirth":{"type":"object","properties":{"year":{"type":"string"},"month":{"type":"string"},"day":{"type":"string"}}},"email":{"type":"string"}}}}}},{"name":"Content-Type","in":"header","description":"Determines the request format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"201":{"description":"Success creation of driver.\n"},"400":{"description":"Invalid payload.\n"},"500":{"description":"Server error.\n"}}}},"/household/{householdId}/policy/{policyId}/driver/{driverId}":{"put":{"summary":"Update a driver","description":"Update a driver for a household and policy in the Lexis Nexis telematics system.\nCould update: date of birth; name; and email.\n","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"},{"name":"driverId","required":true,"in":"path","description":"The driver id for Lexis Nexis.","type":"string"},{"name":"telematics-driver-request","in":"body","description":"The input paramters in JSON format.","required":true,"schema":{"type":"object","properties":{"driver":{"type":"object","properties":{"name":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"}}},"dateOfBirth":{"type":"object","properties":{"year":{"type":"string"},"month":{"type":"string"},"day":{"type":"string"}}},"email":{"type":"string"}}}}}},{"name":"Content-Type","in":"header","description":"Determines the request format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"201":{"description":"Success creation of household.\n"},"400":{"description":"Invalid payload.\n"},"500":{"description":"Server error.\n"}}},"get":{"summary":"Returns a driver","description":"Returns a driver.","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"},{"name":"driverId","required":true,"in":"path","description":"The driver id for Lexis Nexis.","type":"string"},{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}],"responses":{"200":{"description":"Successful response.","schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object"}}}},"examples":{"application/json":{"data":[{"driverWithStatus":{"driverStatus":"Active","driver":{"driverReferenceId":"2B9VGB97YC489OPR4539","name":{"first":"Wonder","last":"Woman"},"dOB":{"year":1966,"month":"04","day":20},"email":"wonder.woman@amazon.gov"}}}]},"application/xml":"<data> <driverWithStatus> <driverStatus>Active</driverStatus> <driver> <driverReferenceId>2B9VGB97YC489OPR4539</driverReferenceId> <name> <first>Wonder</first> <last>Woman</last> </name> <dOB> <year>1966</year> <month>04</month> <day>20</day> </dOB> <email>wonder.woman@amazon.gov</email> </driver> </driverWithStatus> </data>"}},"404":{"description":"Resource does not exist.\n"},"500":{"description":"Server error.\n"}}},"delete":{"summary":"Delete a driver","description":"Delete a driver.","parameters":[{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"},{"name":"driverId","required":true,"in":"path","description":"The driver id for Lexis Nexis.","type":"string"}],"responses":{"200":{"description":"Successful deletion of the policy."},"500":{"description":"Failure."}}}}},"parameters":{"householdId":{"name":"householdId","required":true,"in":"path","description":"The household id for Lexis Nexis.","type":"string"},"policyId":{"name":"policyId","required":true,"in":"path","description":"The policy id for Lexis Nexis.","type":"string"},"driverId":{"name":"driverId","required":true,"in":"path","description":"The driver id for Lexis Nexis.","type":"string"},"Content-Type":{"name":"Content-Type","in":"header","description":"Determines the request format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"},"Accept":{"name":"Accept","in":"header","description":"Determines the response format. Allowed values are 'application/json' or 'application/xml'.","default":"application/json","required":false,"type":"string"}}}